{"id":"xTFySrBf","name":"advance","description":"条件边、状态变量、检索节点、LLM节点的综合应用","data":{"state_schema":{"messages":"list","retrieve_flag":"bool"},"nodes":[{"id":"fD59IOki","type":"start","position":{"x":-377.4453070249664,"y":-116.35928111464187},"data":{"name":"start","guiding_words":"你好，有什么可以帮助你的吗？","state_schema":"{\"messages\":\"list\",\"retrieve_flag\":\"bool\"}"},"measured":{"width":242,"height":352},"selected":true,"dragging":false},{"id":"WsAKjwOb","type":"user_input","position":{"x":50.15341212710186,"y":113.60844957005895},"data":{"name":"in","state_field":"messages"},"measured":{"width":239,"height":240},"selected":false,"dragging":false},{"id":"y6gltieU","type":"llm","position":{"x":731.4350980148229,"y":314.14616245677075},"data":{"name":"llm2","model":"qwen2.5","system_prompt":"你是一个聪明的助手，你可以回答我的任何问题","user_prompt":"{{messages['in']}}"},"measured":{"width":239,"height":408},"selected":false,"dragging":false},{"id":"ebnj5Yqw","type":"llm","position":{"x":1008.2701771429906,"y":-251.71170368570992},"data":{"name":"llm1","model":"qwen2.5","system_prompt":"","user_prompt":"您是问答任务的助理。使用以下检索到的上下文来回答问题。如果你不知道答案，就说不知道。最多使用三句话，保持答案简洁。\\\\\\\\n问题: {{messages['in']}}\\\\\\\\n上下文: {{messages['vector_retriever']}}\\\\\\\\n回答:"},"measured":{"width":239,"height":408},"selected":false,"dragging":false},{"id":"5YXxDH6T","type":"end","position":{"x":1460.956470056975,"y":394.2368142800142},"data":{"name":"end"},"measured":{"width":72,"height":64},"selected":false,"dragging":false},{"id":"coHVpmHR","type":"vector_retriever","position":{"x":595.9292989510841,"y":-347.72732722499876},"data":{"id":"","name":"vector_retriever","type":"vector_retriever","vs_name":"postgres_vs","keywords":"{{messages['in']}}"},"measured":{"width":239,"height":296},"selected":false,"dragging":false}],"edges":[{"source":"fD59IOki","sourceHandle":"output","target":"WsAKjwOb","targetHandle":"input","id":"kc4vXDcw","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"start","target_name":"in"},{"source":"WsAKjwOb","sourceHandle":"output","target":"y6gltieU","targetHandle":"input","id":"8BGwdHdA","type":"condition","data":{"expr":"{{retrieve_flag}}==False"},"markerEnd":{"type":"arrowclosed","width":30,"height":30},"selected":false,"source_name":"in","target_name":"llm2"},{"source":"ebnj5Yqw","sourceHandle":"output","target":"5YXxDH6T","targetHandle":"input","id":"NKRLfWTI","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"llm1","target_name":"end"},{"source":"y6gltieU","sourceHandle":"output","target":"5YXxDH6T","targetHandle":"input","id":"9trKlbQH","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"llm2","target_name":"end"},{"source":"coHVpmHR","sourceHandle":"output","target":"ebnj5Yqw","targetHandle":"input","id":"ZvitfUi9","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"vector_retriever","target_name":"llm1"},{"source":"WsAKjwOb","sourceHandle":"output","target":"coHVpmHR","targetHandle":"input","id":"NHewSdRX","type":"condition","data":{"expr":"{{retrieve_flag}}==True"},"markerEnd":{"type":"arrowclosed","width":30,"height":30},"selected":false,"source_name":"in","target_name":"vector_retriever"}]},"reuse_flag":false,"disabled":false,"type":"reuse_agent"}