{"id":"VnT55yCL","name":"vector_retriever_demo","description":"向量召回demo","data":{"state_schema":{"messages":"list"},"nodes":[{"id":"pc7Rpbz6","type":"start","position":{"x":-252.433349609375,"y":1},"data":{"name":"start","guiding_words":"你好，有什么可以帮助你的吗？","state_schema":"{ \"messages\": \"list\" }"},"measured":{"width":242,"height":352},"selected":false,"dragging":false},{"id":"_8EvpCFg","type":"llm","position":{"x":472.94836408935487,"y":-32.12034137578749},"data":{"name":"keywords","model":"qwen2.5","system_prompt":"","user_prompt":"你是一个聪明的助手，你需要从用户的提问中提炼出关键词，方便从数据库中查找相关信息。只输出关键词，要不要有其它多余的输出。用户的问题是：\n{{messages['user_input']}}"},"measured":{"width":239,"height":408},"selected":false,"dragging":false},{"id":"HzlUED7-","type":"user_input","position":{"x":120.94836408935487,"y":17.87965862421251},"data":{"name":"user_input","state_field":"messages"},"measured":{"width":239,"height":240},"selected":false,"dragging":false},{"id":"MLer85UA","type":"vector_retriever","position":{"x":866.6795931049755,"y":-61.84354927519121},"data":{"id":"","name":"vector_retriever","type":"vector_retriever","vs_type":"postgress","uri":"test.zyys.tech:32177","user":"","password":"","db_name":"lang-agent","collection_name":"documents","embedding_name":"bge","keywords":"{{messages['keywords']}}"},"measured":{"width":239,"height":632},"selected":false,"dragging":false},{"id":"bT7fxSH5","type":"end","position":{"x":1688.6795931049755,"y":280.1564507248088},"data":{"name":"end"},"measured":{"width":72,"height":64},"selected":false,"dragging":false},{"id":"ZM6ASayJ","type":"llm","position":{"x":1286.315029295512,"y":138.50772556774837},"data":{"name":"llm","model":"qwen2.5","system_prompt":"","user_prompt":"您是问答任务的助理。使用以下检索到的上下文来回答问题。如果你不知道答案，就说不知道。最多使用三句话，保持答案简洁。\\\\\\\\n问题: {{messages['user_input']}}\\\\\\\\n上下文: {{messages['vector_retriever']}}\\\\\\\\n回答:"},"measured":{"width":239,"height":408},"selected":false,"dragging":false}],"edges":[{"source":"pc7Rpbz6","sourceHandle":"output","target":"HzlUED7-","targetHandle":"input","id":"KmQ5TabK","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"start","target_name":"user_input"},{"source":"HzlUED7-","sourceHandle":"output","target":"_8EvpCFg","targetHandle":"input","id":"t_82S14A","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"user_input","target_name":"keywords"},{"source":"_8EvpCFg","sourceHandle":"output","target":"MLer85UA","targetHandle":"input","id":"_zXk3GV7","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"keywords","target_name":"vector_retriever","selected":false},{"source":"MLer85UA","sourceHandle":"output","target":"ZM6ASayJ","targetHandle":"input","id":"xRkhbcOZ","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"vector_retriever","target_name":"llm"},{"source":"ZM6ASayJ","sourceHandle":"output","target":"bT7fxSH5","targetHandle":"input","id":"cs_ezusR","type":"default","markerEnd":{"type":"arrowclosed","width":30,"height":30},"source_name":"llm","target_name":"end"}]},"reuse_flag":false,"disabled":false,"type":"reuse_agent"}